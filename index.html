<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vue i18n + Перевод и лог</title>
  <script src="https://unpkg.com/vue@3"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    button { margin: 5px; }
  </style>
</head>
<body>
  <div id="app">
    <h1>{{ translate(currentKey) }}</h1>

    <button @click="currentKey = 'greetings.hello'">Показать Hello</button>
    <button @click="currentKey = 'greetings.goodbye'">Показать Goodbye</button>
    <br><br>

    <button @click="setLanguage('en')">EN</button>
    <button @click="setLanguage('fr')">FR</button>
    <br><br>

    <button @click="log('Привет!')">Лог</button>
    <p><strong>Лог:</strong> {{ logMessage }}</p>
  </div>

  <script>
    const messages = {
      en: {
        greetings: {
          hello: 'Hello!',
          goodbye: 'Goodbye!'
        }
      },
      fr: {
        greetings: {
          hello: 'Bonjour!',
          goodbye: 'Au revoir!'
        }
      }
    }

    const app = Vue.createApp({
      data() {
        return {
          currentLang: 'fr',
          currentKey: 'greetings.hello',
          logMessage: ''
        }
      },
      methods: {
        translate(key) {
          const keys = key.split('.')
          return keys.reduce((acc, k) => acc?.[k], messages[this.currentLang]) ?? '*перевод не найден+'
        },
        setLanguage(lang) {
          this.currentLang = lang
        },
        log(msg) {
          const fullMsg = [LOG]: ${msg}
          console.log(fullMsg)
          this.logMessage = fullMsg
        }
      }
    })

    app.mount('#app')
  </script>
</body>
</html>

